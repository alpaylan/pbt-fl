{
    "setup_steps": [],
    "build_steps": [
        {
            "Command": {
                "env": {
                    "CARGO_INCREMENTAL": "0",
                    "RUSTFLAGS": "-C instrument-coverage -C link-dead-code -C codegen-units=1 -C inline-threshold=0 -C llvm-args=-inline-threshold=0 -C debuginfo=2"
                },
                "command": "cargo",
                "args": [
                    "build",
                    "--release"
                ],
                "run_at": "${workload_path}"
            }
        }
    ],
    "test_steps": [
        {
            "Command": {
                "env": {
                    "LLVM_PROFILE_FILE": "coverage/snapshot_%p-%m.profraw"
                },
                "command": "./target/release/faultloc",
                "args": [
                    "${strategy}",
                    "${property}",
                    "${tests}"
                ],
                "run_at": "${workload_path}"
            }
        },
        {
            "Command": {
                "command": "./instrumentation.sh",
                "run_at": "${workload_path}"
            }
        },
        {
            "Command": {
                "command": "crabcheck-profiling-analysis",
                "args": [
                    "coverage",
                    "rbt",
                    "--print-json"
                ],
                "run_at": "${workload_path}"
            }
        },
        {
            "Command": {
                "command": "rm",
                "args": [
                    "-r",
                    "coverage"
                ],
                "run_at": "${workload_path}"
            }
        },
        {
            "Command": {
                "command": "rm",
                "args": [
                    "-r",
                    "jsondata"
                ],
                "run_at": "${workload_path}"
            }
        },
        {
            "Command": {
                "command": "rm",
                "args": [
                    "-r",
                    "profdata"
                ],
                "run_at": "${workload_path}"
            }
        },
        {
            "Command": {
                "command": "rm",
                "args": [
                    "-f",
                    "--",
                    "default*.profraw(.N)"
                ],
                "run_at": "${workload_path}"
            }
        }
    ]
}